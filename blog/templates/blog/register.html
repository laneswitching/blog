{% extends "blog/base.html" %}

{% load static %}

{% block content %}
<div class="nier-container">
    <h2 class="nier-title">YoRHa Registration Terminal</h2>
    
    {% if user.is_authenticated %}
        <p class="nier-text">You are already registered and logged in.</p>
        <p class="nier-text"><a href="{% url 'post_list' %}" class="nier-link">Return to Main Terminal</a></p>
    {% else %}
        <p class="nier-text">Please fill out the form below to register.</p>
        <form method="POST" class="nier-form">
            {% csrf_token %}
            <div class="form-group">
                <label>Assigned Name:</label>
                {{ form.username }}
                {% if form.username.errors %}
                    <div class="alert alert-danger alert-small" role="alert">
                        {% for error in form.username.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <div class="form-group">
                <label>E-Mail:</label>
                {{ form.email }}
                {% if form.email.errors %}
                    <div class="alert alert-danger alert-small" role="alert">
                        {% for error in form.email.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <div class="form-group">
                <label>Access Code:</label>
                {{ form.password1 }}
                {% if form.password1.errors %}
                    <div class="alert alert-danger alert-small" role="alert">
                        {% for error in form.password1.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <div class="form-group">
                <label>Confirm Access Code:</label>
                {{ form.password2 }}
                {% if form.password2.errors %}
                    <div class="alert alert-danger alert-small" role="alert">
                        {% for error in form.password2.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <button type="submit" class="nier-button">Initialize Registration</button>
        </form>
        <p class="nier-text">Already registered? <a href="{% url 'login' %}" class="nier-link">Access Terminal</a></p>
    {% endif %}
</div>

<style>
    .nier-container {
        max-width: 500px;
        margin: 2em auto;
        padding: 2em;
        background-color: rgba(0, 0, 0, 0.8);
        border: 1px solid #9c9c9c;
        color: #e2e2e2;
    }

    .nier-title {
        text-align: center;
        font-family: 'Century Gothic', sans-serif;
        color: #d4d4d4;
        margin-bottom: 1.5em;
    }

    .nier-form .form-group {
        margin-bottom: 1em;
    }

    .nier-form label {
        display: block;
        margin-bottom: 0.5em;
        color: #9c9c9c;
    }

    .nier-form input {
        width: 100%;
        padding: 0.5em;
        background-color: rgba(236, 236, 236, 0.1);
        border: 1px solid #666;
        color: #fff;
    }

    .nier-button {
        width: 100%;
        padding: 0.8em;
        background-color: #4a4a4a;
        border: 1px solid #9c9c9c;
        color: #fff;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .nier-button:hover {
        background-color: #666;
    }

    .nier-text {
        text-align: center;
        margin-top: 1em;
        color: #9c9c9c;
    }

    .nier-link {
        color: #d4d4d4;
        text-decoration: none;
    }

    .nier-link:hover {
        color: #fff;
    }

    .alert-small {
        padding: 0.5em 0.75em;
        margin-top: 0.5em;
        font-size: 0.9em;
    }
</style>

{% endblock %}